<div id="dashboard"
  class="flex flex-col h-full w-full justify-between overflow-y-auto overflow-x-hidden gap-[20px]"
>
  <div class="flex justify-end bg-white py-[10px] pr-[20px] rounded-2xl">
    <button (click)="sendPDF()" class="cursor-pointer group flex items-center gap-[5px]">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M4 20C3.45 20 2.97933 19.8043 2.588 19.413C2.19667 19.0217 2.00067 18.5507 2 18V6C2 5.45 2.196 4.97933 2.588 4.588C2.98 4.19667 3.45067 4.00067 4 4H20C20.55 4 21.021 4.196 21.413 4.588C21.805 4.98 22.0007 5.45067 22 6V18C22 18.55 21.8043 19.021 21.413 19.413C21.0217 19.805 20.5507 20.0007 20 20H4ZM12 13L4 8V18H20V8L12 13ZM12 11L20 6H4L12 11ZM4 8V6V18V8Z"
          fill="#0086A5" />
      </svg>
      <p class="text-[#64BC04] group-hover:underline">Enviar PDF</p>
    </button>
    <button (click)="downloadPDF()" class="cursor-pointer group flex items-center gap-[5px]">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 16L16 11H13V4H11V11H8L12 16Z" fill="#0086A5" />
        <path d="M20 18H4V11H2V18C2 19.103 2.897 20 4 20H20C21.103 20 22 19.103 22 18V11H20V18Z" fill="#0086A5" />
      </svg>
      <p class="text-[#64BC04] group-hover:underline">Exportar a PDF</p>
    </button>
  </div>

  <!-- Fila superior -->
  <div class="flex items-center gap-[20px]">
    <div class="flex-2 rounded-2xl border border-gray-200 bg-white p-5">
      <h3 class="font-semibold text-gray-800 mb-2">LECCIONES APRENDIDAS POR PROYECTO</h3>
      <canvas #lessonsChart class="w-full"></canvas>
    </div>

    <div class="flex-1 rounded-2xl border border-gray-200 bg-white p-5">
      <h3 class="font-semibold text-gray-800 mb-2">LECCIONES APRENDIDAS POR FASE</h3>
      <canvas #lessonsPieChart class="w-full"></canvas>
    </div>
  </div>

  <!-- Fila inferior -->
  <div class="rounded-2xl border border-gray-200 bg-white p-5">
    <h3 class="font-semibold text-gray-800 mb-2">LECCIONES APRENDIDAS POR ETAPA SEGÃšN LA FASE</h3>
    <div class="flex justify-between gap-[20px]">
      <div *ngFor="let phase of phaseStageCharts" class="h-[300px]">
        <h3 class="text-center text-xs text-gray-500 font-semibold mb-2">
          {{ phase.phaseLabel }}
        </h3>
        <canvas [id]="'phaseChart-' + phase.phaseId" class="w-full"></canvas>
      </div>
    </div>
  </div>

  <div class="inline-flex flex flex-col w-1/2 rounded-2xl border border-gray-200 bg-white p-5">
    <h3 class="font-semibold text-gray-800 mb-2">
      LECCIONES APRENDIDAS POR SUBETAPA / ESPECIALIDAD
    </h3>
    <canvas #lessonsLineChart class=""></canvas>
  </div>
</div>

<div *ngIf="loader" class="loader-overlay">
  <div class="loader"></div>
</div>