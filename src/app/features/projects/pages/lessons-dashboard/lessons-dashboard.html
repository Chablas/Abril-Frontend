<div id="dashboard"
  class="flex flex-col h-full w-full justify-between overflow-y-auto overflow-x-hidden gap-[20px]"
>
  <div class="flex justify-end gap-[10px] bg-white py-[10px] pr-[20px] rounded-2xl">
    <button (click)="sendPDF()" class="cursor-pointer group flex items-center gap-[5px]">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M4 20C3.45 20 2.97933 19.8043 2.588 19.413C2.19667 19.0217 2.00067 18.5507 2 18V6C2 5.45 2.196 4.97933 2.588 4.588C2.98 4.19667 3.45067 4.00067 4 4H20C20.55 4 21.021 4.196 21.413 4.588C21.805 4.98 22.0007 5.45067 22 6V18C22 18.55 21.8043 19.021 21.413 19.413C21.0217 19.805 20.5507 20.0007 20 20H4ZM12 13L4 8V18H20V8L12 13ZM12 11L20 6H4L12 11ZM4 8V6V18V8Z"
          fill="#0086A5" />
      </svg>
      <p class="text-[#64BC04] group-hover:underline">Enviar PDF</p>
    </button>
    <button (click)="downloadPDF()" class="cursor-pointer group flex items-center gap-[5px]">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 16L16 11H13V4H11V11H8L12 16Z" fill="#0086A5" />
        <path d="M20 18H4V11H2V18C2 19.103 2.897 20 4 20H20C21.103 20 22 19.103 22 18V11H20V18Z" fill="#0086A5" />
      </svg>
      <p class="text-[#64BC04] group-hover:underline">Exportar a PDF</p>
    </button>
  </div>
  <!--
  <div class="flex justify-between bg-white py-[10px] px-[20px] rounded-2xl">
    <div class="flex justify-start gap-[10px]">
      <div class="w-[240px]">
        <p class="w-[240px] text-[#64BC04] text-lg">Periodo</p>
        <div *ngIf="selectedFilters.selectedOptions as selectedOptions">
          <select
            class="w-full pl-[15px] pr-[25px] py-[6px] border border-[#D6DEE5] rounded-xl select-wrapper cursor-pointer"
            [(ngModel)]="selectedOptions.periodDate" name="periodDate">
            <option [ngValue]="null">Todos los periodos</option>
            <option *ngFor="let item of filters.options?.periods" [ngValue]="item.periodDate | date:'yyyy-MM-dd'">
              {{ item.periodDate | date:'MM-yyyy' }}
            </option>
          </select>
        </div>
  
      </div>
      
        <div class="w-[240px]">
          <p class="w-[240px] text-[#64BC04] text-lg">Usuario</p>
          <select class="w-full pl-[15px] pr-[25px] py-[6px] border border-[#D6DEE5] rounded-xl select-wrapper cursor-pointer"
            [(ngModel)]="filtersTable.userId" name="userId">
            <option [ngValue]="null">Todos los usuarios</option>
            <option *ngFor="let u of filtersData.users" [ngValue]="u.userId">
              {{ u.fullName }}
            </option>
          </select>
        </div>
        
    </div>
  
    <div class="flex justify-end gap-[10px]">
  
      <button type="button" class="mt-[38px] w-[120px] h-[45px] bg-[#64BC04] py-[1px] rounded-[10px] cursor-pointer">
        <div class="flex justify-center items-center">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M19.6 21L13.3 14.7C12.8 15.1 12.225 15.4167 11.575 15.65C10.925 15.8833 10.2333 16 9.5 16C7.68333 16 6.146 15.3707 4.888 14.112C3.63 12.8533 3.00067 11.316 3 9.5C2.99933 7.684 3.62867 6.14667 4.888 4.888C6.14733 3.62933 7.68467 3 9.5 3C11.3153 3 12.853 3.62933 14.113 4.888C15.373 6.14667 16.002 7.684 16 9.5C16 10.2333 15.8833 10.925 15.65 11.575C15.4167 12.225 15.1 12.8 14.7 13.3L21 19.6L19.6 21ZM9.5 14C10.75 14 11.8127 13.5627 12.688 12.688C13.5633 11.8133 14.0007 10.7507 14 9.5C13.9993 8.24933 13.562 7.187 12.688 6.313C11.814 5.439 10.7513 5.00133 9.5 5C8.24867 4.99867 7.18633 5.43633 6.313 6.313C5.43967 7.18967 5.002 8.252 5 9.5C4.998 10.748 5.43567 11.8107 6.313 12.688C7.19033 13.5653 8.25267 14.0027 9.5 14Z"
              fill="white" />
          </svg>
          <p class="text-[#ffffff] pl-[10px] text-lg">Buscar</p>
        </div>
      </button>
    </div>
  </div>
  -->

  <!-- Fila superior -->
  <div class="flex items-center gap-[20px]">
    <div class="flex-2 rounded-2xl border border-gray-200 bg-white p-5">
      <h3 class="font-semibold text-gray-800 mb-2">LECCIONES APRENDIDAS POR PROYECTO</h3>
      <canvas #lessonsChart class="w-full"></canvas>
    </div>

    <div class="flex-1 rounded-2xl border border-gray-200 bg-white p-5">
      <h3 class="font-semibold text-gray-800 mb-2">LECCIONES APRENDIDAS POR FASE</h3>
      <canvas #lessonsPieChart class="w-full"></canvas>
    </div>
  </div>

  <!-- Fila inferior -->
  <div class="rounded-2xl border border-gray-200 bg-white p-5">
    <h3 class="font-semibold text-gray-800 mb-2">LECCIONES APRENDIDAS POR ETAPA SEGÃšN LA FASE</h3>
    <div class="flex justify-between gap-[20px]">
      <div *ngFor="let phase of phaseStageCharts" class="h-[300px]">
        <h3 class="text-center text-xs text-gray-500 font-semibold mb-2">
          {{ phase.phaseLabel }}
        </h3>
        <canvas [id]="'phaseChart-' + phase.phaseId" class="w-full"></canvas>
      </div>
    </div>
  </div>

  <div class="inline-flex flex flex-col w-1/2 rounded-2xl border border-gray-200 bg-white p-5">
    <h3 class="font-semibold text-gray-800 mb-2">
      LECCIONES APRENDIDAS POR SUBETAPA / ESPECIALIDAD
    </h3>
    <canvas #lessonsLineChart class=""></canvas>
  </div>
</div>

<div *ngIf="loader" class="loader-overlay">
  <div class="loader"></div>
</div>